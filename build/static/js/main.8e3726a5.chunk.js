(this["webpackJsonpreact-starter-template"]=this["webpackJsonpreact-starter-template"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c(1),o=c(20),i=c.n(o),s=c(5),r=c(4),l=c(2),j=c(0),u=function(e){e.getToken;var t=Object(s.f)(),c=Object(a.useState)({userName:"",password:""}),o=Object(n.a)(c,2),i=o[0],u=o[1],d=Object(a.useState)({userName:!1,password:!1,submitError:!1}),b=Object(n.a)(d,2),O=b[0],h=b[1],p=function(){fetch("https://fitnesstrac-kr.herokuapp.com/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i.userName,password:i.password})}).then((function(e){return e.json()})).then((function(e){if(console.log("submitForm ~ result",e),e&&e.token)return localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),t.push("/routines");h(Object(l.a)(Object(l.a)({},O),{},{submitError:!0,errorMessage:e.message})),console.log(e)})).catch(console.error)};return Object(j.jsx)("div",{className:"log",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Log in"}),Object(j.jsx)("label",{children:"Username"}),Object(j.jsx)("input",{onChange:function(e){u(Object(l.a)(Object(l.a)({},i),{},{userName:e.target.value}))},type:"text",id:"keywords",placeholder:"Username...",value:i.userName}),Object(j.jsx)("br",{}),O.userName?"Please enter valid username":null,Object(j.jsx)("br",{}),Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{onChange:function(e){u(Object(l.a)(Object(l.a)({},i),{},{password:e.target.value}))},type:"password",id:"keywords",placeholder:"Password...",value:i.password}),Object(j.jsx)("br",{}),O.password?"Please enter valid password":null,Object(j.jsx)("br",{}),O.submitError?O.errorMessage:null,Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){var e={},t=!0;i.userName.length<3&&(t=!1,e=Object(l.a)(Object(l.a)({},e),{},{userName:!0})),i.password.length<3&&(t=!1,e=Object(l.a)(Object(l.a)({},e),{},{password:!0})),h(e),t&&p()},children:"Log In"}),Object(j.jsxs)("p",{children:["Don't have an account? ",Object(j.jsx)(r.b,{to:"/register",children:"Register"})]})]})})},d=function(e){console.log("Header ~ props",e);var t=Object(s.f)(),c=Object(a.useState)(e.token||""),o=Object(n.a)(c,2),i=o[0],l=o[1];return Object(a.useEffect)((function(){console.log("token201",i),l(localStorage.getItem("token"))}),[e]),Object(j.jsxs)("div",{className:"headercontainer",children:[Object(j.jsx)("h1",{children:"FitnessTrackr"}),Object(j.jsx)("h2",{children:Object(j.jsx)(r.b,{to:"/profile",children:"Home"})}),Object(j.jsx)("h2",{children:Object(j.jsx)(r.b,{to:"/routines",children:"Routines"})}),i&&i.length>0?Object(j.jsx)("h2",{children:Object(j.jsx)(r.b,{to:"/myroutines",children:"My Routines"})}):null,Object(j.jsx)("h2",{children:Object(j.jsx)(r.b,{to:"/activities",children:"Activities"})}),i&&i.length>0?Object(j.jsx)("h2",{children:Object(j.jsx)(r.b,{to:"#",onClick:function(){localStorage.setItem("token",""),localStorage.setItem("user",""),t.push({pathname:"/login"})},children:"Log Out"})}):Object(j.jsx)("h2",{children:Object(j.jsx)(r.b,{to:"/login",children:"SignIn"})})]})},b=function(){var e=Object(s.f)(),t=Object(a.useState)({userName:"",password:""}),c=Object(n.a)(t,2),o=c[0],i=c[1],u=Object(a.useState)({userName:!1,password:!1,submitError:!1}),d=Object(n.a)(u,2),b=d[0],O=d[1],h=function(){fetch("https://fitnesstrac-kr.herokuapp.com/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o.userName,password:o.password})}).then((function(e){return e.json()})).then((function(t){if(t&&t.token)return localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),e.push("/myroutines");O(Object(l.a)(Object(l.a)({},b),{},{submitError:!0,errorMessage:t.message})),console.log(t)})).catch(console.error)};return Object(j.jsx)("div",{className:"log",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Register"}),Object(j.jsx)("label",{children:"Username"}),Object(j.jsx)("input",{onChange:function(e){i(Object(l.a)(Object(l.a)({},o),{},{userName:e.target.value}))},type:"text",id:"keywords",placeholder:"Username...",value:o.userName}),Object(j.jsx)("br",{}),b.userName?"Please enter valid username":null,Object(j.jsx)("br",{}),Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{onChange:function(e){i(Object(l.a)(Object(l.a)({},o),{},{password:e.target.value}))},type:"password",id:"keywords",placeholder:"Password...",value:o.password}),Object(j.jsx)("br",{}),b.password?"Please enter valid password":null,Object(j.jsx)("br",{}),b.submitError?b.errorMessage:null,Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){var e={},t=!0;o.userName.length<3&&(t=!1,e=Object(l.a)(Object(l.a)({},e),{},{userName:!0})),o.password.length<3&&(t=!1,e=Object(l.a)(Object(l.a)({},e),{},{password:!0})),O(e),t&&h()},children:"Sign Up"}),Object(j.jsxs)("p",{children:["Already have an account? ",Object(j.jsx)(r.b,{to:"/login",children:"Sign In"})]})]})})},O=c(11),h=function(e){console.log("Card ~ data",e);var t=e.setRoutineActivityData,c=e.setEditData,n=e.setEdit,a=(e.setIsLoading,e.handleDelete),o=e.setAddActy;return Object(j.jsxs)("div",{className:"routineCard",children:[Object(j.jsxs)("h2",{style:{lineHeight:"20px"},children:["Name: ",e.data.name]}),Object(j.jsxs)("h3",{style:{lineHeight:"20px"},children:["Goal: ",e.data.goal]}),Object(j.jsxs)("h4",{style:{cursor:"pointer"},onClick:function(){t(e)},children:["CreatorName: ",e.data.creatorName]}),"myRoutine"===e.from?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){n(!0),c(e.data)},children:"Edit"}),Object(j.jsx)("button",{onClick:function(){return a(e.data.id)},children:"Delete"}),Object(j.jsx)("button",{onClick:function(){o(!0),t(e)},children:"Add Activity"})]}):null]})},p=function(e){console.log("ActivityCard ~ props",e);var t=e&&e.routineActivityData&&e.routineActivityData.data||"",c=e&&e.routineActivityData&&e.routineActivityData.from||"",n=e&&e&&e.setEditActData||{},a=e&&e.setEditAct||{},o=e&&e.handleDeleteAct||{};return Object(j.jsx)("div",{className:"postcard",children:t&&t.activities&&t.activities.length>0?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{style:{fontSize:"20px",padding:"0.5rem",flexDirection:"column",fontWeight:600},children:["Routines Name : ",t.name]}),Object(j.jsxs)("div",{style:{fontSize:"18px",padding:"0.5rem",flexDirection:"column",fontWeight:600},children:["Routines Goal: ",t.goal]}),Object(j.jsx)("div",{style:{fontSize:"16px",padding:"0.5rem",flexDirection:"column",fontWeight:600},children:"Activity List"}),t.activities.map((function(e,t){return Object(j.jsxs)("div",{style:{borderBottom:"2px solid #2196f3",backgroundColor:"#B0E0E6",borderRadius:10,margin:10},children:[Object(j.jsxs)("div",{style:{fontSize:"20px",padding:"0.5rem",flexDirection:"column"},children:["Name: ",e.name]}),Object(j.jsxs)("div",{style:{fontSize:"20px",padding:"0.5rem",flexDirection:"column",lineHeight:"1.5rem"},children:["Description: ",e.description]}),Object(j.jsxs)("div",{style:{fontSize:"20px",padding:"0.5rem",flexDirection:"column"},children:["Duration: ",e.duration]}),e.count>0?Object(j.jsxs)("div",{style:{fontSize:"20px",padding:"0.5rem",flexDirection:"column"},children:["Count: ",e.count]}):null,"myRoutine"===c?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){a(!0),n(e)},children:"Edit"}),Object(j.jsx)("button",{onClick:function(){return o(e.routineActivityId)},children:"Delete"})]}):null]},t)}))]}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{style:{fontSize:"20px",padding:"0.5rem",flexDirection:"column",fontWeight:600,flex:1},children:"This routine has not activity"})})})},g=function(){return Object(j.jsx)("div",{id:"loading",children:Object(j.jsx)("h2",{className:"message",children:"Loading..."})})},x=function(){var e=Object(a.useState)([]),t=Object(n.a)(e,2),c=t[0],o=t[1],i=Object(a.useState)(""),s=Object(n.a)(i,2),r=s[0],l=s[1],u=Object(a.useState)(localStorage.getItem("token")),d=Object(n.a)(u,1)[0],b=Object(a.useState)(null),x=Object(n.a)(b,2),f=x[0],m=x[1],v=Object(a.useState)(!1),y=Object(n.a)(v,2),S=y[0],k=y[1];Object(a.useEffect)((function(){A()}),[]);var A=function(){k(!0),console.log("token2","Bearer ".concat(d)),fetch("https://fitnesstrac-kr.herokuapp.com/api/routines",{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),o(e),k(!1)})).catch(console.error)};return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"postcardsearch",children:[Object(j.jsx)("h1",{children:"Routines"}),Object(j.jsxs)("div",{className:"searchinput",children:[Object(j.jsx)("label",{children:"Search Routines"}),Object(j.jsx)("input",{onChange:function(e){l(e.target.value),function(e){var t=[];e.length<=0?t=c:c.map((function(c){c.name.includes(e)&&(t=[].concat(Object(O.a)(t),[c]))})),e.length>0?o(t):A()}(e.target.value)},type:"text",placeholder:"Search your favorite routine...",value:r}),Object(j.jsx)("br",{})]})]}),Object(j.jsxs)("div",{style:{display:"flex",maxHeight:"80vh",overflowY:"scroll"},children:[Object(j.jsx)("div",{style:{width:"30%",overflowY:"scroll"},children:c.map((function(e,t){return Object(j.jsx)(h,{data:e,setRoutineActivityData:m},t)}))}),Object(j.jsx)("div",{style:{width:"70%",overflowY:"scroll"},children:Object(j.jsx)(p,{routineActivityData:f})})]}),S?Object(j.jsx)(g,{}):null]})},f=function(e){console.log("props",e);var t=e.data,c=e.setEdit,o=(Object(s.f)(),Object(s.g)().postID);console.log(o);var i=Object(a.useState)({name:t.name?t.name:"",goal:t.goal?t.goal:""}),r=Object(n.a)(i,2),u=r[0],d=r[1],b=Object(a.useState)({name:!1,goal:!1}),O=Object(n.a)(b,2),h=O[0],p=O[1],g=Object(a.useState)(""),x=Object(n.a)(g,2),f=x[0],m=x[1],v=Object(a.useState)(!1),y=Object(n.a)(v,2),S=y[0],k=y[1],A=function(){fetch("https://fitnesstrac-kr.herokuapp.com/api/routines/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({name:u.name,goal:u.goal})}).then((function(e){return e.json()})).then((function(e){console.log(e),console.log("\ud83d\ude80 ~ file: UpdateRoutine.js ~ line 73 ~ updateRoutine ~ result",e),m("Your Routine is successfully created"),k(!0),c(!1)})).catch(console.error)};return Object(j.jsx)("div",{className:"log",style:{backgroundColor:"lightgrey"},children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Update Routine"}),Object(j.jsx)("label",{children:"Name : "}),Object(j.jsx)("input",{onChange:function(e){d(Object(l.a)(Object(l.a)({},u),{},{name:e.target.value}))},type:"text",id:"keywords",placeholder:"Routine name...",value:u.name}),Object(j.jsx)("br",{}),h.name?"Please enter your name":null,Object(j.jsx)("br",{}),Object(j.jsx)("label",{children:"Goal : "}),Object(j.jsx)("input",{onChange:function(e){d(Object(l.a)(Object(l.a)({},u),{},{goal:e.target.value}))},type:"text",id:"keywords",placeholder:"Description...",value:u.goal}),Object(j.jsx)("br",{}),h.goal?"Please enter valid goal desrciption":null,h.submitError?h.errorMessage:null,Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){var e={},t=!0;u.name.length<3&&(t=!1,e=Object(l.a)(Object(l.a)({},e),{},{name:!0})),u.goal.length<3&&(t=!1,e=Object(l.a)(Object(l.a)({},e),{},{goal:!0})),p(e),t&&A()},children:"Update Routine"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){return c(!1)},children:"Cancel"}),Object(j.jsx)("br",{}),S?f:null]})})},m=function(e){console.log("props",e);var t=e.data,c=e.setAddActy;console.log("\ud83d\ude80 ~ file: AddActivity.js ~ line 8 ~ AddActivity ~ data",t);Object(s.f)();var o=Object(s.g)().postID;console.log(o);var i=Object(a.useState)({count:t.count?t.count:"",duration:t.duration?t.duration:"",activityList:JSON.parse(localStorage.getItem("activites"))||[],selectedActy:"",routineId:t.data.id?t.data.id:0}),r=Object(n.a)(i,2),u=r[0],d=r[1],b=Object(a.useState)({count:!1,duration:!1}),O=Object(n.a)(b,2),h=O[0],p=(O[1],Object(a.useState)("")),g=Object(n.a)(p,2),x=g[0],f=g[1],m=Object(a.useState)(!1),v=Object(n.a)(m,2),y=v[0],S=v[1],k=function(){fetch("https://fitnesstrac-kr.herokuapp.com/api/routines/".concat(u.routineId,"/activities"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({activityId:u.selectedActy,count:u.count,duration:u.duration})}).then((function(e){return e.json()})).then((function(e){console.log(e),console.log("\ud83d\ude80 ~ file: AddActivity.js ~ line 73 ~ updateRoutine ~ result",e),e&&e.message?f(e.message):(f("Your Routine is successfully created"),c(!1)),S(!0),setEdit(!1)})).catch(console.error)};return Object(j.jsx)("div",{className:"log",style:{backgroundColor:"lightgrey"},children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Add Activity to routine"}),Object(j.jsx)("label",{htmlFor:"select-classification",children:"Activity"}),Object(j.jsxs)("select",{count:"classification",id:"select-classification",value:u.selectedActy,onChange:function(e){return d(Object(l.a)(Object(l.a)({},u),{},{selectedActy:e.target.value}))},children:[Object(j.jsx)("option",{value:""}),u.activityList&&u.activityList.length>0&&u.activityList.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.name},t)}))]}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{children:"Count : "}),Object(j.jsx)("input",{onChange:function(e){d(Object(l.a)(Object(l.a)({},u),{},{count:e.target.value}))},type:"text",id:"keywords",placeholder:"count...",value:u.count}),Object(j.jsx)("br",{}),h.count?"Please enter your count":null,Object(j.jsx)("br",{}),Object(j.jsx)("label",{children:"Duration : "}),Object(j.jsx)("input",{onChange:function(e){d(Object(l.a)(Object(l.a)({},u),{},{duration:e.target.value}))},type:"text",id:"keywords",placeholder:"Duration...",value:u.duration}),Object(j.jsx)("br",{}),h.duration?"Please enter valid duration desrciption":null,h.submitError?h.errorMessage:null,Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){console.log("\ud83d\ude80 ~ file: AddActivity.js ~ line 29 ~ validateActivity ~ activity","https://fitnesstrac-kr.herokuapp.com/api/routines/".concat(t.data.id,"/activities")),k()},children:"Add Activity"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){return c(!1)},children:"Cancel"}),Object(j.jsx)("br",{}),y?x:null]})})},v=function(e){console.log("props",e);var t=e.data,c=(e.setAddActy,e.setEditAct),o=e.editActData;console.log("\ud83d\ude80 ~ file: UpdateActivity.js ~ line 8 ~ UpdateActivity ~ data",t);Object(s.f)();var i=Object(s.g)().postID;console.log(i);var r=Object(a.useState)({count:o.count?o.count:"",duration:o.duration?o.duration:"",activityList:JSON.parse(localStorage.getItem("activites"))||[],selectedActy:"",routineId:o.routineActivityId?o.routineActivityId:0}),u=Object(n.a)(r,2),d=u[0],b=u[1],O=Object(a.useState)({count:!1,duration:!1}),h=Object(n.a)(O,2),p=h[0],g=(h[1],Object(a.useState)("")),x=Object(n.a)(g,2),f=x[0],m=x[1],v=Object(a.useState)(!1),y=Object(n.a)(v,2),S=y[0],k=y[1],A=function(){fetch("https://fitnesstrac-kr.herokuapp.com/api/routine_activities/".concat(d.routineId),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({count:d.count,duration:d.duration})}).then((function(e){return e.json()})).then((function(e){console.log(e),console.log("\ud83d\ude80 ~ file: UpdateActivity.js ~ line 73 ~ updateRoutine ~ result",e),e&&e.message?m(e.message):(m("Your Routine is successfully created"),c(!1)),k(!0),setEdit(!1)})).catch(console.error)};return Object(j.jsx)("div",{className:"log",style:{backgroundColor:"lightgrey"},children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Update Activity of routine"}),Object(j.jsxs)("label",{htmlFor:"select-classification",children:["Activity: ",o.name]}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{children:"Count : "}),Object(j.jsx)("input",{onChange:function(e){b(Object(l.a)(Object(l.a)({},d),{},{count:e.target.value}))},type:"text",id:"keywords",placeholder:"count...",value:d.count}),Object(j.jsx)("br",{}),p.count?"Please enter your count":null,Object(j.jsx)("br",{}),Object(j.jsx)("label",{children:"Duration : "}),Object(j.jsx)("input",{onChange:function(e){b(Object(l.a)(Object(l.a)({},d),{},{duration:e.target.value}))},type:"text",id:"keywords",placeholder:"Duration...",value:d.duration}),Object(j.jsx)("br",{}),p.duration?"Please enter valid duration desrciption":null,p.submitError?p.errorMessage:null,Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){A()},children:"Update Activity"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){return c(!1)},children:"Cancel"}),Object(j.jsx)("br",{}),S?f:null]})})},y=function(){var e=Object(a.useState)([]),t=Object(n.a)(e,2),c=t[0],o=t[1],i=Object(a.useState)(""),s=Object(n.a)(i,2),l=s[0],u=s[1],d=Object(a.useState)(localStorage.getItem("token")),b=Object(n.a)(d,2),x=(b[0],b[1],Object(a.useState)(JSON.parse(localStorage.getItem("user")||{}))),y=Object(n.a)(x,2),S=y[0];y[1];console.log("\ud83d\ude80 ~ file: MyRoutines.js ~ line 14 ~ MyRoutines ~ user",S);var k=Object(a.useState)(null),A=Object(n.a)(k,2),C=A[0],D=A[1],N=Object(a.useState)(!1),w=Object(n.a)(N,2),E=w[0],I=w[1],R=Object(a.useState)({}),P=Object(n.a)(R,2),T=P[0],M=P[1],U=Object(a.useState)(!1),z=Object(n.a)(U,2),J=z[0],B=z[1],L=Object(a.useState)(!1),Y=Object(n.a)(L,2),F=Y[0],H=Y[1],G=Object(a.useState)(!1),W=Object(n.a)(G,2),_=W[0],q=W[1],K=Object(a.useState)({}),Q=Object(n.a)(K,2),V=Q[0],X=Q[1];Object(a.useEffect)((function(){S&&S.username?Z():o()}),[!E,!F]);var Z=function(){B(!0),fetch("https://fitnesstrac-kr.herokuapp.com/api/users/".concat(S.username,"/routines"),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("\ud83d\ude80 ~ file: MyRoutines.js ~ line 35 ~ getPublicRoutine ~ result",e),console.log(e),o(e),B(!1)})).catch((function(e){console.log("\ud83d\ude80 ~ file: MyRoutines.js ~ line 40 ~ getPublicRoutine ~ error",e),B(!1)}))};return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"postcardsearch",children:[Object(j.jsx)("h1",{children:"MyRoutines"}),Object(j.jsxs)("div",{className:"searchinput",children:[Object(j.jsx)("label",{children:"Search your Routines"}),Object(j.jsx)("input",{onChange:function(e){u(e.target.value),function(e){var t=[];e.length<=0?t=c:c.map((function(c){c.name.includes(e)&&(t=[].concat(Object(O.a)(t),[c]))})),e.length>0?o(t):Z()}(e.target.value)},type:"text",placeholder:"Search your favorite routine...",value:l}),Object(j.jsx)("br",{})]}),Object(j.jsx)(r.b,{to:"routine/add",children:"(ADD New Routine)"})]}),Object(j.jsxs)("div",{style:{display:"flex",maxHeight:"80vh",overflowY:"scroll"},children:[Object(j.jsx)("div",{style:{width:"50%",overflowY:"scroll"},children:c.map((function(e,t){return Object(j.jsx)(h,{from:"myRoutine",data:e,setRoutineActivityData:D,setEditData:M,setEdit:I,setIsLoading:B,setAddActy:H,handleDelete:function(e){return function(e){console.log("\ud83d\ude80 ~ file: MyRoutines.js ~ line 63 ~ handleDelete ~ id",e),fetch("https://fitnesstrac-kr.herokuapp.com/api/routines/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){console.log("\ud83d\ude80 ~ file: MyRoutines.js ~ line 72 ~ handleDelete ~ result",e),Z()})).catch(console.error)}(e)}},t)}))}),Object(j.jsx)("div",{style:{width:"50%",overflowY:"scroll"},children:E?Object(j.jsx)(f,{data:T,setEdit:I}):F?Object(j.jsx)(m,{data:C,editAct:_,editActData:V,setAddActy:H}):_?Object(j.jsx)(v,{data:C,editAct:_,editActData:V,setEditAct:q}):Object(j.jsx)(p,{routineActivityData:C,setEditAct:q,setEditActData:X,handleDeleteAct:function(e){return function(e){console.log("\ud83d\ude80 ~ file: MyRoutines.js ~ line 63 ~ handleDelete ~ id",e),fetch("https://fitnesstrac-kr.herokuapp.com/api/routine_activities/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){console.log("\ud83d\ude80 ~ file: MyRoutines.js ~ line 72 ~ handleDelete ~ result",e),Z()})).catch(console.error)}(e)}})})]}),J?Object(j.jsx)(g,{}):null]})},S=function(e){console.log("props",e);var t=Object(s.f)(),c=Object(s.g)().postID;console.log(c);var o=Object(a.useState)({name:"",goal:"",Checkbox:!1}),i=Object(n.a)(o,2),r=i[0],u=i[1],d=Object(a.useState)({name:!1,goal:!1,Checkbox:!1}),b=Object(n.a)(d,2),O=b[0],h=b[1],p=Object(a.useState)(""),g=Object(n.a)(p,2),x=g[0],f=g[1],m=Object(a.useState)(!1),v=Object(n.a)(m,2),y=v[0],S=v[1],k=function(){fetch("https://fitnesstrac-kr.herokuapp.com/api/routines",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({name:r.name,goal:r.goal,isPublic:!0})}).then((function(e){return e.json()})).then((function(e){if(console.log("\ud83d\ude80 ~ file: CreateRoutine.js ~ line 71 ~ submitForm ~ result",e),!e||!e.error)return f("Your Routine is successfully created"),S(!0),t.push("/myroutines");f(e.message),S(!0)})).catch(console.error)};return Object(j.jsx)("div",{className:"log",style:{backgroundColor:"lightgrey"},children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Add New Routine"}),Object(j.jsx)("label",{children:"Name : "}),Object(j.jsx)("input",{onChange:function(e){u(Object(l.a)(Object(l.a)({},r),{},{name:e.target.value}))},type:"text",id:"keywords",placeholder:"Routine name...",value:r.name}),Object(j.jsx)("br",{}),O.name?"Please enter your name":null,Object(j.jsx)("br",{}),Object(j.jsx)("label",{children:"Goal : "}),Object(j.jsx)("input",{onChange:function(e){u(Object(l.a)(Object(l.a)({},r),{},{goal:e.target.value}))},type:"text",id:"keywords",placeholder:"Description...",value:r.goal}),Object(j.jsx)("br",{}),O.goal?"Please enter valid goal desrciption":null,O.submitError?O.errorMessage:null,Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){var e={},t=!0;console.log("\ud83d\ude80 ~ file: CreateRoutine.js ~ line 31 ~ validateRoutine ~ routineData",r),r.name.length<3&&(t=!1,e=Object(l.a)(Object(l.a)({},e),{},{name:!0})),r.goal.length<3&&(t=!1,e=Object(l.a)(Object(l.a)({},e),{},{goal:!0})),h(e),t&&k()},children:"Create Routine"}),Object(j.jsx)("br",{}),y?x:null]})})},k=function(e){console.log("props",e);var t=Object(s.f)(),c=Object(s.g)().postID;console.log(c);var o=Object(a.useState)({name:"",description:""}),i=Object(n.a)(o,2),r=i[0],u=i[1],d=Object(a.useState)({name:!1,description:!1}),b=Object(n.a)(d,2),O=b[0],h=b[1],p=Object(a.useState)(""),g=Object(n.a)(p,2),x=g[0],f=g[1],m=Object(a.useState)(!1),v=Object(n.a)(m,2),y=v[0],S=v[1],k=function(){console.log("token414","Bearer ".concat(localStorage.getItem("token"))),fetch("https://fitnesstrac-kr.herokuapp.com/api/activities",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({name:r.name,description:r.description})}).then((function(e){return e.json()})).then((function(e){if(console.log(e),console.log("\ud83d\ude80 ~ file: Create.js ~ line 72 ~ submitForm ~ result",e),!e||!e.error)return f("Your Activities is successfully created"),S(!0),t.push("/activities");f(e.message),S(!0)})).catch(console.error)};return Object(j.jsx)("div",{className:"log",style:{backgroundColor:"lightgrey"},children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Add New Activity"}),Object(j.jsx)("label",{children:"Name : "}),Object(j.jsx)("input",{onChange:function(e){u(Object(l.a)(Object(l.a)({},r),{},{name:e.target.value}))},type:"text",id:"keywords",placeholder:"Username...",value:r.name}),Object(j.jsx)("br",{}),O.name?"Please enter valid title":null,Object(j.jsx)("br",{}),Object(j.jsx)("label",{children:"Description : "}),Object(j.jsx)("input",{onChange:function(e){u(Object(l.a)(Object(l.a)({},r),{},{description:e.target.value}))},type:"text",id:"keywords",placeholder:"description...",value:r.description}),Object(j.jsx)("br",{}),O.description?"Please enter valid description":null,Object(j.jsx)("br",{}),O.submitError?O.errorMessage:null,Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){var e={},t=!0;r.name.length<3&&(t=!1,e=Object(l.a)(Object(l.a)({},e),{},{name:!0})),r.description.length<3&&(t=!1,e=Object(l.a)(Object(l.a)({},e),{},{description:!0})),h(e),t&&k()},children:"Create"}),Object(j.jsx)("br",{}),y?x:null]})})},A=function(e){var t=localStorage.getItem("token"),c=!!(t&&t.length>0),n=(e&&e.from,e&&e.setEditAct||""),a=e&&e.setEditActData||"";return Object(j.jsxs)("div",{className:"activityCard",children:[Object(j.jsxs)("h2",{children:["Name: ",e.data.name]}),Object(j.jsxs)("h3",{children:["Description: ",e.data.description]}),c?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{onClick:function(){n(!0),a(e.data)},children:"Edit"})}):null]})},C=function(e){console.log("props",e);var t=Object(s.f)(),c=Object(s.g)().postID;console.log(c);var o=Object(a.useState)({name:e.editActData.name?e.editActData.name:"",description:e.editActData.description?e.editActData.description:""}),i=Object(n.a)(o,2),r=i[0],u=i[1],d=Object(a.useState)({name:!1,description:!1}),b=Object(n.a)(d,2),O=b[0],h=b[1],p=Object(a.useState)(""),g=Object(n.a)(p,2),x=g[0],f=g[1],m=Object(a.useState)(!1),v=Object(n.a)(m,2),y=v[0],S=v[1];Object(a.useEffect)((function(){u({name:e.editActData.name?e.editActData.name:"",description:e.editActData.description?e.editActData.description:""})}),[e]);console.log("activity",r);var k=function(){console.log("token414","Bearer ".concat(localStorage.getItem("token"))),fetch("https://fitnesstrac-kr.herokuapp.com/api/activities/".concat(e.editActData.id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({name:r.name,description:r.description})}).then((function(e){return e.json()})).then((function(c){if(console.log(c),console.log("\ud83d\ude80 ~ file: Update.js ~ line 72 ~ submitForm ~ result",c),!c||!c.error)return f("Your Routine is successfully updated"),S(!0),e.setEditAct(!1),t.push("/activities");f(c.message),S(!0)})).catch(console.error)};return Object(j.jsx)("div",{className:"log",style:{backgroundColor:"lightgrey",padding:"2rem"},children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Update Activity"}),Object(j.jsx)("label",{children:"Name : "}),Object(j.jsx)("input",{onChange:function(e){u(Object(l.a)(Object(l.a)({},r),{},{name:e.target.value}))},type:"text",id:"keywords",placeholder:"Username...",value:r.name}),Object(j.jsx)("br",{}),O.name?"Please enter valid title":null,Object(j.jsx)("br",{}),Object(j.jsx)("label",{children:"Description : "}),Object(j.jsx)("input",{onChange:function(e){u(Object(l.a)(Object(l.a)({},r),{},{description:e.target.value}))},type:"text",id:"keywords",placeholder:"description...",value:r.description}),Object(j.jsx)("br",{}),O.description?"Please enter valid description":null,Object(j.jsx)("br",{}),O.submitError?O.errorMessage:null,Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){var e={},t=!0;r.name.length<3&&(t=!1,e=Object(l.a)(Object(l.a)({},e),{},{name:!0})),r.description.length<3&&(t=!1,e=Object(l.a)(Object(l.a)({},e),{},{description:!0})),h(e),t&&k()},children:"Update"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{onClick:function(){return e.setEditAct(!1)},children:"Cancel"}),Object(j.jsx)("br",{}),y?x:null]})})},D=function(){var e=Object(a.useState)([]),t=Object(n.a)(e,2),c=t[0],o=t[1],i=Object(a.useState)(""),s=Object(n.a)(i,2),l=s[0],u=s[1],d=Object(a.useState)(localStorage.getItem("token")),b=Object(n.a)(d,2),h=b[0],p=(b[1],Object(a.useState)(null)),x=Object(n.a)(p,2),f=x[0],m=(x[1],Object(a.useState)(!1)),v=Object(n.a)(m,2),y=v[0],S=v[1],k=Object(a.useState)(!1),D=Object(n.a)(k,2),N=D[0],w=D[1],E=Object(a.useState)({}),I=Object(n.a)(E,2),R=I[0],P=I[1];Object(a.useEffect)((function(){T()}),[!N]);var T=function(){S(!0),console.log("token2","Bearer ".concat(h)),fetch("https://fitnesstrac-kr.herokuapp.com/api/activities",{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("activites",JSON.stringify(e)),o(e),S(!1)})).catch(console.error)};return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"postcardsearch",children:[Object(j.jsx)("h1",{children:"Activities"}),Object(j.jsxs)("div",{className:"searchinput",children:[Object(j.jsx)("label",{children:"Search Activities"}),Object(j.jsx)("input",{onChange:function(e){u(e.target.value),function(e){var t=[];e.length<=0?t=c:c.map((function(c){c.name.includes(e)&&(t=[].concat(Object(O.a)(t),[c]))})),e.length>0?o(t):T()}(e.target.value)},type:"text",placeholder:"Search your favorite activity...",value:l}),Object(j.jsx)("br",{})]}),h&&h.length>0?Object(j.jsx)(r.b,{to:"activity/add",children:"(ADD activity)"}):null]}),Object(j.jsxs)("div",{style:{display:"flex",maxHeight:"75vh",overflowY:"scroll"},children:[Object(j.jsx)("div",{style:{widht:"50%",overflowY:"scroll"},children:c.map((function(e,t){return Object(j.jsx)(A,{from:"activities",data:e,setEditAct:w,setEditActData:P},t)}))}),N?Object(j.jsx)(C,{data:f,editAct:N,editActData:R,setEditAct:w}):null]}),y?Object(j.jsx)(g,{}):null]})},N=(c(32),function(e){console.log("App ~ props",e);var t=Object(a.useState)(localStorage.getItem("token")),c=Object(n.a)(t,2),o=c[0],i=c[1];Object(a.useEffect)((function(){r()}),[]),Object(a.useEffect)((function(){console.log("useEffect ~ localStorage.getItem('token')",localStorage.getItem("token")),i(localStorage.getItem("token"))}),[localStorage.getItem("token")]);var r=function(){o&&fetch("https://fitnesstrac-kr.herokuapp.com/api/users/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}}).then((function(e){return e.json()})).then((function(e){if(e&&e.error)return localStorage.setItem("token",""),history.push("/login");console.log("resultIndexJS:",e)})).catch(console.error)};return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(d,{token:o}),Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:"/login",children:Object(j.jsx)(u,{})}),Object(j.jsx)(s.a,{path:"/register",children:Object(j.jsx)(b,{})}),Object(j.jsx)(s.a,{exact:!0,path:"/routines",children:Object(j.jsx)(x,{})}),Object(j.jsx)(s.a,{exact:!0,path:"/activities",children:Object(j.jsx)(D,{})}),o?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(s.a,{exact:!0,path:"/activity/add",children:Object(j.jsx)(k,{})}),Object(j.jsx)(s.a,{exact:!0,path:"/routine/add",children:Object(j.jsx)(S,{})}),Object(j.jsx)(s.a,{exact:!0,path:"/myroutines",children:Object(j.jsx)(y,{})})]}):null]})]})});i.a.render(Object(j.jsx)(r.a,{children:Object(j.jsx)(N,{})}),document.getElementById("app"))}},[[33,1,2]]]);
//# sourceMappingURL=main.8e3726a5.chunk.js.map